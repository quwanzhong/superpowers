# ğŸŒŸ Skill: useUserDeptPerson (éƒ¨é—¨äººå‘˜è·å–é’©å­)

### ğŸ“– æè¿°
è¯¥æŠ€èƒ½ç”¨äºå¿«é€Ÿè·å–å½“å‰ç™»å½•ç”¨æˆ·æ‰€å±éƒ¨é—¨çš„æ‰€æœ‰äººå‘˜åˆ—è¡¨ã€‚å®ƒè‡ªåŠ¨é›†æˆäº† `Pinia Store` çŠ¶æ€è¯»å–ä¸ä¸šåŠ¡æ¥å£è°ƒç”¨ï¼Œå°†åŸå§‹çš„äººå‘˜æ•°æ®è½¬æ¢ä¸ºæ ‡å‡†çš„ Select é€‰é¡¹æ ¼å¼ã€‚

---

### ğŸš€ æ ¸å¿ƒè¶…èƒ½åŠ›
* **è‡ªåŠ¨é‰´æƒè¿½è¸ª**ï¼šå†…ç½® `useUserStore` é€»è¾‘ï¼Œè‡ªåŠ¨æå–å½“å‰ç™»å½•ç”¨æˆ·çš„ `deptId`ï¼Œæ— éœ€æ‰‹åŠ¨ä¼ å‚ã€‚
* **æ•°æ®æ ‡å‡†å½’ä¸€åŒ–**ï¼šè‡ªåŠ¨å°†åç«¯è¿”å›çš„ä¸åŒå­—æ®µï¼ˆå¦‚ `nickName` æˆ– `name`ï¼‰ç»Ÿä¸€æ˜ å°„ä¸ºå‰ç«¯é€šç”¨çš„ `label/value` ç»“æ„ã€‚
* **å®¹é”™å¤„ç†**ï¼šå†…ç½®äº†å¯¹ `deptId` ç¼ºå¤±çš„æ‹¦æˆªå’Œå¼‚å¸¸æ•è·ï¼Œç¡®ä¿é¡µé¢ä¸ä¼šå› ä¸ºæ¥å£æŠ¥é”™è€ŒæŒ‚æ‰ã€‚

---

### ğŸ› ï¸ ä½¿ç”¨æŒ‡å—

#### 1. é€»è¾‘å¼•å…¥ (Setup Script)
```typescript
import { onMounted } from 'vue';
import { useUserDeptPerson } from '@/skills/vue/hooks/useUserDeptPerson';

const { personOptions, fetchDeptPersons } = useUserDeptPerson();

onMounted(() => {
  fetchDeptPersons();
});
```

#### 2. æ¨¡æ¿ç»‘å®šç¤ºä¾‹ (Template)
é…åˆ Element Plus çš„ el-select ä½¿ç”¨ï¼š
``` typescript
<template>
  <el-select v-model="selectedPerson" placeholder="è¯·é€‰æ‹©äººå‘˜">
    <el-option
      v-for="item in personOptions"
      :key="item.value"
      :label="item.label"
      :value="item.value"
    />
  </el-select>
</template>
```